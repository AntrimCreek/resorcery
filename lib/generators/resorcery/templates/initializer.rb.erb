# frozen_string_literal: true

Resorcery.setup do |config|
  # config.theme = :default

  # In order to detect with controllers are using Resorcery, you must load the controllers firest
  ActionDispatch::Reloader.to_prepare do
    Dir["#{Rails.root}/app/controllers/**/*.rb"].each { |file| require_dependency file }
  end

  # Nav items to be displayed in the default navigation component -- Show all Resorcery controllers by default
  config.nav_items = ActionController::Base.descendants.select(&:resorcery?).map(&:resource_model).sort_by(&:name)
end
